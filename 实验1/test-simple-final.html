<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>最简测试</title>
  <style>
    body { margin: 20px; font-family: Arial, sans-serif; }
    .btn { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    input { padding: 5px; margin: 5px; }
    #tree-container { margin-top: 20px; min-height: 200px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>最简功能测试</h1>
  
  <input type="text" id="input-custom-data" placeholder="输入数据" value="1 2 3 4">
  <button id="btn-random-data" class="btn">随机生成</button>
  <button id="btn-update-custom-data" class="btn">更新可视化</button>
  
  <div>
    <input type="number" id="input-modify-left" value="1" placeholder="左边界">
    <input type="number" id="input-modify-right" value="2" placeholder="右边界">
    <input type="number" id="input-modify-value" value="5" placeholder="修改值">
    <button id="btn-apply-modification" class="btn">应用修改</button>
  </div>
  
  <div id="custom-tree-visualizer-host"></div>
  
  <script>
    console.log('🚀 最简测试页面开始...');
    
    // 等待脚本加载后测试
    setTimeout(() => {
      console.log('🔍 检查模块:', window.ModifyTreeVisualizer);
      
      if (window.ModifyTreeVisualizer) {
        console.log('✅ 模块存在，开始初始化...');
        window.ModifyTreeVisualizer.initModifyTreeVisualizer();
        console.log('✅ 初始化完成');
        
        // 自动测试基本功能
        setTimeout(() => {
          console.log('🧪 开始自动测试...');
          const container = document.getElementById('custom-tree-visualizer-host');
          const data = [1, 2, 3, 4];
          console.log('📊 测试数据:', data);
          console.log('📦 测试容器:', container);
          
          if (container) {
            console.log('🎨 调用可视化函数...');
            window.ModifyTreeVisualizer.buildModifyTreeVisualizationWithData(data, container, false);
            console.log('✅ 可视化函数调用完成');
          }
        }, 1000);
      } else {
        console.log('❌ 模块未找到');
      }
    }, 500);
  </script>
  
  <script src="js/generate_Visualizer_modify.js"></script>
</body>
</html>
