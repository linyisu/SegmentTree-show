<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åŒºé—´ä¿®æ”¹å¯è§†åŒ–è°ƒè¯•</title>
  <style>
    :root {
      --primary-color: #74b9ff;
      --secondary-color: #0984e3;
      --card-bg: #f8f9fa;
      --text-color: #2d3748;
    }
    
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f0f2f5;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .controls {
      margin-bottom: 20px;
      padding: 15px;
      background: var(--card-bg);
      border-radius: 8px;
      border: 1px solid #e1e5e9;
    }
    
    .control-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: var(--text-color);
    }
    
    input[type="text"], input[type="number"] {
      width: 100%;
      padding: 8px 12px;
      border: 2px solid #e1e5e9;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s;
    }
    
    input[type="text"]:focus, input[type="number"]:focus {
      outline: none;
      border-color: var(--primary-color);
    }
    
    .btn {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      transition: all 0.3s;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(116, 185, 255, 0.3);
    }
    
    .btn-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .range-inputs {
      display: flex;
      gap: 10px;
      align-items: end;
    }
    
    .range-inputs > div {
      flex: 1;
    }
    
    #debug-info {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 15px;
      margin-top: 20px;
      font-family: monospace;
      font-size: 12px;
      white-space: pre-wrap;
      max-height: 300px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”§ åŒºé—´ä¿®æ”¹å¯è§†åŒ–è°ƒè¯•å·¥å…·</h1>
    
    <div class="controls">
      <div class="control-group">
        <label for="input-custom-data">æ•°ç»„æ•°æ® (1-8ä¸ªæ•°å­—ï¼ŒèŒƒå›´1-100):</label>
        <input type="text" id="input-custom-data" placeholder="ä¾‹å¦‚: 1 2 3 4">
      </div>
      
      <div class="btn-group">
        <button id="btn-random-data" class="btn">ğŸ² éšæœºç”Ÿæˆ</button>
        <button id="btn-update-custom-data" class="btn">ğŸš€ æ›´æ–°å¯è§†åŒ–</button>
      </div>
      
      <div class="range-inputs">
        <div>
          <label for="input-modify-left">å·¦è¾¹ç•Œ:</label>
          <input type="number" id="input-modify-left" value="1" min="1">
        </div>
        <div>
          <label for="input-modify-right">å³è¾¹ç•Œ:</label>
          <input type="number" id="input-modify-right" value="1" min="1">
        </div>
        <div>
          <label for="input-modify-value">ä¿®æ”¹å€¼:</label>
          <input type="number" id="input-modify-value" value="1">
        </div>
        <div>
          <button id="btn-apply-modification" class="btn">ğŸ”„ åº”ç”¨ä¿®æ”¹</button>
        </div>
      </div>
    </div>
    
    <div id="custom-tree-visualizer-host"></div>
    
    <div id="debug-info"></div>
  </div>
  
  <script>
    // å…¨å±€è°ƒè¯•æ—¥å¿—å‡½æ•°
    function debugLog(message) {
      const debugDiv = document.getElementById('debug-info');
      const timestamp = new Date().toLocaleTimeString();
      debugDiv.textContent += `[${timestamp}] ${message}\n`;
      debugDiv.scrollTop = debugDiv.scrollHeight;
      console.log(message);
    }
    
    // é¡µé¢åŠ è½½æ—¶å¼€å§‹è°ƒè¯•
    document.addEventListener('DOMContentLoaded', () => {
      debugLog('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹è°ƒè¯•...');
      
      // æ£€æŸ¥æ‰€æœ‰å¿…éœ€çš„HTMLå…ƒç´ 
      const elements = {
        'input-custom-data': document.getElementById('input-custom-data'),
        'btn-random-data': document.getElementById('btn-random-data'),
        'btn-update-custom-data': document.getElementById('btn-update-custom-data'),
        'custom-tree-visualizer-host': document.getElementById('custom-tree-visualizer-host'),
        'input-modify-left': document.getElementById('input-modify-left'),
        'input-modify-right': document.getElementById('input-modify-right'),
        'input-modify-value': document.getElementById('input-modify-value'),
        'btn-apply-modification': document.getElementById('btn-apply-modification')
      };
      
      debugLog('ğŸ“‹ HTMLå…ƒç´ æ£€æŸ¥:');
      Object.entries(elements).forEach(([id, element]) => {
        debugLog(`  ${id}: ${element ? 'âœ…' : 'âŒ'}`);
      });
      
      // ç­‰å¾…è„šæœ¬åŠ è½½
      setTimeout(() => {
        debugLog('ğŸ” æ£€æŸ¥è„šæœ¬æ¨¡å—:');
        debugLog(`  ModifyTreeVisualizer: ${window.ModifyTreeVisualizer ? 'âœ…' : 'âŒ'}`);
        
        if (window.ModifyTreeVisualizer) {
          debugLog('ğŸ”§ è°ƒç”¨åˆå§‹åŒ–å‡½æ•°...');
          try {
            window.ModifyTreeVisualizer.initModifyTreeVisualizer();
            debugLog('âœ… åˆå§‹åŒ–æˆåŠŸ');
          } catch (error) {
            debugLog(`âŒ åˆå§‹åŒ–å¤±è´¥: ${error.message}`);
          }
        }
      }, 500);
    });
  </script>
  
  <!-- åŠ è½½æ¨¡å—è„šæœ¬ -->
  <script src="js/generate_Visualizer_modify.js"></script>
</body>
</html>
